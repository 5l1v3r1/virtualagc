<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<meta content="text/html;charset=ISO-8859-1" http-equiv="Content-Type">
<title>Assembly listing generated by yaYUL</title>
<style type="text/css">
p.nobreak { white-space:nowrap; }
a { text-decoration:none; }
a:visited { COLOR: #000850; }
</style>
<style type="text/css">
.op{
font-weight: bold;
color: #993300;
}
</style>
<style type="text/css">
.dn{
color: #009900;
}
</style>
<style type="text/css">
.fe{
color: #FF0000;
}
</style>
<style type="text/css">
.in{
color: #FF6600;
}
</style>
<style type="text/css">
.ps{
color: #336600;
}
</style>
<style type="text/css">
.sm{
color: #0000FF;
}
</style>
<style type="text/css">
.wn{
color: #FF9900;
}
</style>
<style type="text/css">
.co{
font-style: italic;
color: #993399;
}
</style>
</head>
<body>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
<h1>Source Code</h1>
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
These source code files are a reconstruction of Sundance, the Apollo 9 LM (Lunar Module) AGC
(Apollo Guidance Computer) flight software, created from binary dumps of original core rope
program modules, as follows:
<ul>
<li>B1 &mdash; Revision 292</li>
<li>B2 &mdash; Revision 302</li>
<li>B3 &mdash; Revision 302</li>
<li>B4 &mdash; Revision 302</li>
<li>B5 &mdash; Revision 292</li>
<li>B6 &mdash; Revision 306</li>
</ul>

This means that source code
does not represent a specific historical revision of Sundance, but rather a mixture of the
three released versions. Nonetheless, it is capable of flying the whole Apollo 9 mission.
This source code matches the binary dumps, as closely as feasible, but 100% match is not possible, 
due <i>mostly</i> to changes in memory addresses at which code and variables were allocated in 
different revisions of Sundance.  Refer to 
<a href="https://github.com/virtualagc/virtualagc/blob/master/SundanceXXX/SundanceXXXDifferences.txt">
<u>this list of explanations for each binary mismatch</u></a>.
<br><br>
Since only binary dumps (rather than listings) of Sundance are available as source material, 
all comments and labels are approximate.
They have been taken from other AGC programs where possible, or, in some places, written
from scratch to match what we believe would have been in the original listing.

</td></tr></tbody></table>

<p class="nobreak">
<span style="font-family: monospace;">
<pre>
054178,000002:                                                                                                  <span class="co">## Copyright:   Public domain.</span>
054179,000003:                                                                                                  <span class="co">## Filename:    ALARM_AND_ABORT.agc</span>
054180,000004:                                                                                                  <span class="co">## Purpose:     A section of a reconstructed, mixed version of Sundance</span>
054181,000005:                                                                                                  <span class="co">##              It is part of the reconstructed source code for the Lunar</span>
054182,000006:                                                                                                  <span class="co">##              Module's (LM) Apollo Guidance Computer (AGC) for Apollo 9.</span>
054183,000007:                                                                                                  <span class="co">##              No original listings of this program are available;</span>
054184,000008:                                                                                                  <span class="co">##              instead, this file was created via disassembly of dumps</span>
054185,000009:                                                                                                  <span class="co">##              of various revisions of Sundance core rope modules.</span>
054186,000010:                                                                                                  <span class="co">## Assembler:   yaYUL</span>
054187,000011:                                                                                                  <span class="co">## Contact:     Ron Burkey &lt;info@sandroid.org>.</span>
054188,000012:                                                                                                  <span class="co">## Website:     www.ibiblio.org/apollo/index.html</span>
054189,000013:                                                                                                  <span class="co">## Mod history: 2020-06-17 MAS  Created from Luminary 69.</span>
054190,000014: 
054191,000015:                                                                                                  <span class="co">## Sundance 292</span>
054192,000016: 
054193,000017:                                                                                                  <span class="co">#           THE FOLLOWING SUBROUTINE MAY BE CALLED TO DISPLAY A NON-ABORTIVE ALARM CONDITION. IT MAY BE CALLED</span>
054194,000018:                                                                                                  <span class="co">#  EITHER IN INTERRUPT OR UNDER EXECUTIVE CONTROL.</span>
054195,000019: 
054196,000020:                                                                                                  <span class="co">#  CALLING SEQUENCE IS AS FOLLOWS:</span>
054197,000021:                                                                                                  <span class="co">#                TC      ALARM</span>
054198,000022:                                                                                                  <span class="co">#                OCT     AAANN           ALARM NO. NN IN GENERAL AREA AAA.</span>
054199,000023:                                                                                                  <span class="co">#                                        (RETURNS HERE)</span>
054200,000024: 
054201,000025:    5646                                           <span class="ps">BLOCK   </span> 02                                    
054202,000026:    4000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#464654414737">FFTAG7</a>                                
054203,000027:    4000                                           <span class="ps">BANK    </span>                                       
054204,000028: 
054205,000029:    5646     0375                                  <span class="ps">EBANK=  </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
054206,000030: 
054207,000031:    5646                                           <span class="ps">COUNT*  </span> $$/<a href="#414C41524D">ALARM</a>                              
054208,000032:                                                                                                  <span class="co">#  ALARM TURNS ON THE PROGRAM ALARM LIGHT, BUT DOES NOT DISPLAY.</span>
054209,000033: 
<a name="414C41524D"></a>054210,000034:    5646           00004        <span class="sm">ALARM   </span>           <span class="op">INHINT  </span>                                       
054211,000035: 
054212,000036:    5647           30002                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
054213,000037:    5650           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               
<a name="414C41524D32"></a>054214,000038:    5651           50002        <span class="sm">ALARM2  </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
054215,000039:    5652           30000                           <span class="op">CA      </span> 0                                     
<a name="424F5254454E54"></a>054216,000040:    5653           54001        <span class="sm">BORTENT </span>           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
054217,000041: 
<a name="5052494F454E54"></a>054218,000042:    5654           30006        <span class="sm">PRIOENT </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4242414E4B">BBANK</a>                                 
054219,000043:    5655           00006                 +1        <span class="op">EXTEND  </span>                                       
054220,000044:    5656           04007                           <span class="op">ROR     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#5355504552424E4B">SUPERBNK</a>                              <span class="co">#  ADD SUPER BITS.</span>
054221,000045:    5657           55364                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>    +1                         
054222,000046: 
<a name="4C41524D454E54"></a>054223,000047:    5660           30002        <span class="sm">LARMENT </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  STORE RETURN FOR ALARM</span>
054224,000048:    5661           54061                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                
054225,000049: 
<a name="43484B4641494C31"></a>054226,000050:    5662           10375        <span class="sm">CHKFAIL1</span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               <span class="co">#  IS ANYTHING IN FAILREG</span>
054227,000051:    5663           15666                           <span class="op">TCF     </span> <a href="#43484B4641494C32">CHKFAIL2</a>                              <span class="co">#  YES TRY NEXT REG</span>
054228,000052:    5664           22375                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>                               
054229,000053:    5665           15700                           <span class="op">TCF     </span> <a href="#50524F474C41524D">PROGLARM</a>                              <span class="co">#  TURN ALARM LIGHT ON FOR FIRST ALARM</span>
054230,000054: 
<a name="43484B4641494C32"></a>054231,000055:    5666           10376        <span class="sm">CHKFAIL2</span>           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>    +1                         
054232,000056:    5667           15672                           <span class="op">TCF     </span> <a href="#4641494C33">FAIL3</a>                                 
054233,000057:    5670           22376                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>    +1                         
054234,000058:    5671           15703                           <span class="op">TCF     </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
054235,000059: 
<a name="4641494C33"></a>054236,000060:    5672           30377        <span class="sm">FAIL3   </span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>    +2                         
054237,000061:    5673           75006                           <span class="op">MASK    </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#504F534D4158">POSMAX</a>                                
054238,000062:    5674           10000                           <span class="op">CCS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
054239,000063:    5675           15707                           <span class="op">TCF     </span> <a href="#4D554C544641494C">MULTFAIL</a>                              
054240,000064:    5676           22377                           <span class="op">LXCH    </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>    +2                         
054241,000065:    5677           15703                           <span class="op">TCF     </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
054242,000066: 
054243,000067: 
<a name="50524F474C41524D"></a>054244,000068:    5700           41037        <span class="sm">PROGLARM</span>           <span class="op">CS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
054245,000069:    5701           75721                           <span class="op">MASK    </span> <a href="#4F43543430343030">OCT40400</a>                              
054246,000070:    5702           27037                           <span class="op">ADS     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#445350544142">DSPTAB</a>     +11D                       
054247,000071: 
<a name="4D554C5445584954"></a>054248,000072:    5703           56061        <span class="sm">MULTEXIT</span>           <span class="op">XCH     </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4954454D5031">ITEMP1</a>                                <span class="co">#  OBTAIN RETURN ADDRESS IN A</span>
054249,000073:    5704           00003                           <span class="op">RELINT  </span>                                       
054250,000074:    5705           50000                           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#41">A</a>                                     
054251,000075:    5706           00001                           <span class="op">TC      </span> 1                                     
054252,000076: 
<a name="4D554C544641494C"></a>054253,000077:    5707           30001        <span class="sm">MULTFAIL</span>           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     
054254,000078:    5710           65010                           <span class="op">AD      </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#4249543135">BIT15</a>                                 
054255,000079:    5711           54377                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4641494C524547">FAILREG</a>    +2                         
054256,000080: 
054257,000081:    5712           15703                           <span class="op">TCF     </span> <a href="#4D554C5445584954">MULTEXIT</a>                              
054258,000082: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Sundance 302
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
054260,000084: 
054261,000085:                                                                                                  <span class="co">#  PRIOLARM DISPLAYS V05N09 VIA PRIODSPR WITH 3 RETURNS TO THE USER FROM THE ASTRONAUT AT CALL LOC +1,+2,+3 AND</span>
054262,000086:                                                                                                  <span class="co">#  AN IMMEDIATE RETURN TO THE USER AT CALL LOC +4.  EXAMPLE FOLLOWS,</span>
054263,000087:                                                                                                  <span class="co">#                CAF     OCTXX           ALARM CODE</span>
054264,000088:                                                                                                  <span class="co">#                TC      BANKCALL</span>
054265,000089:                                                                                                  <span class="co">#                CADR    PRIOLARM</span>
054266,000090: 
054267,000091:                                                                                                  <span class="co">#                ...     ...</span>
054268,000092:                                                                                                  <span class="co">#                ...     ...</span>
054269,000093:                                                                                                  <span class="co">#                ...     ...             ASTRONAUT RETURN</span>
054270,000094:                                                                                                  <span class="co">#                TC      PHASCHNG        IMMEDIATE RETURN TO USER.  RESTART</span>
054271,000095:                                                                                                  <span class="co">#                OCT     X.1             PHASE CHANGE FOR PRIO DISPLAY</span>
054272,000096: 
054273,000097: 10,3443                                           <span class="ps">BANK    </span> 10                                    
054274,000098: 10,2000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#444953504C415953">DISPLAYS</a>                              
054275,000099: 10,2000                                           <span class="ps">BANK    </span>                                       
054276,000100: 
054277,000101: 10,3443                                           <span class="ps">COUNT*  </span> $$/DSPLA                              
<a name="5052494F4C41524D"></a>054278,000102: 10,3443           00004        <span class="sm">PRIOLARM</span>           <span class="op">INHINT  </span>                                       <span class="co">#  * * * KEEP IN DISPLAY ROUTINES BANK</span>
054279,000103: 10,3444           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  SAVE ALARM CODE</span>
054280,000104: 
054281,000105: 10,3445           30133                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42554632">BUF2</a>                                  <span class="co">#  2 CADR OF PRIOLARM USER</span>
054282,000106: 10,3446           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               
054283,000107: 10,3447           30134                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#42554632">BUF2</a>       +1                         
054284,000108: 10,3450           05655                           <span class="op">TC      </span> <a href="#5052494F454E54">PRIOENT</a>    +1                         <span class="co">#  * LEAVE L ALONE</span>
<a name="2D35534543"></a>054285,000109: 10,3451           77013        <span class="sm">-5SEC   </span>           <span class="ps">DEC     </span> -500       B-14                       <span class="co">#  *** DONT MOVE</span>
054286,000110: 10,3452           35056                           <span class="op">CAF     </span> <a href="FIXED-FIXED_CONSTANT_POOL.agc.html#5630354E3039">V05N09</a>                                
054287,000111: 10,3453           12414                           <span class="op">TCF     </span> <a href="DISPLAY_INTERFACE_ROUTINES.agc.html#5052494F44535052">PRIODSPR</a>                              
054288,000112: 
</pre>
</span>
</p>
<table style="text-align: left;" border="1" cellpadding="2" cellspacing="2">
<tbody>
<tr>
<td style="white-space: nowrap; vertical-align: middle;">
<img alt="" src="Apollo32.png" style="width: 32px; height: 32px;" align="left">
</td>
<td style="vertical-align: middle;">
Sundance 292
</td></tr></tbody></table>
<p class="nobreak">
<span style="font-family: monospace;">
<pre>
054290,000114: 
054291,000115:    5713                                           <span class="ps">BLOCK   </span> 02                                    
054292,000116:    4000                                           <span class="ps">SETLOC  </span> <a href="TAGS_FOR_RELATIVE_SETLOC_AND_BLANK_BANK_CARDS.agc.html#464654414737">FFTAG7</a>                                
054293,000117:    4000                                           <span class="ps">BANK    </span>                                       
054294,000118: 
054295,000119:    5713                                           <span class="ps">COUNT*  </span> $$/<a href="#414C41524D">ALARM</a>                              
<a name="41424F5254"></a>054296,000120:    5713           00004        <span class="sm">ABORT   </span>           <span class="op">INHINT  </span>                                       
054297,000121:    5714           30002                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
054298,000122:    5715           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               
054299,000123: 
<a name="41424F525432"></a>054300,000124:    5716           50002        <span class="sm">ABORT2  </span>           <span class="op">INDEX   </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
054301,000125:    5717           30000                           <span class="op">CAF     </span> 0                                     
054302,000126:    5720           05653                           <span class="op">TC      </span> <a href="#424F5254454E54">BORTENT</a>                               
<a name="4F43543430343030"></a>054303,000127:    5721           40400        <span class="sm">OCT40400</span>           <span class="ps">OCT     </span> 40400                                 
<a name="5748494D504552"></a>054304,000128:    5722           05722        <span class="sm">WHIMPER </span>           <span class="op">TC      </span> <a href="#5748494D504552">WHIMPER</a>                               
054305,000129: 
<a name="434353484F4C45"></a>054306,000130:    5723           00004        <span class="sm">CCSHOLE </span>           <span class="op">INHINT  </span>                                       
054307,000131:    5724           30002                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
054308,000132:    5725           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               
054309,000133: 
054310,000134:    5726           05716                           <span class="op">TC      </span> <a href="#41424F525432">ABORT2</a>                                
054311,000135:    5727           01103                           <span class="ps">OCT     </span> 1103                                  
054312,000136: 
<a name="4355525441494E53"></a>054313,000137:    5730           00004        <span class="sm">CURTAINS</span>           <span class="op">INHINT  </span>                                       
054314,000138:    5731           30002                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     
054315,000139:    5732           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               
054316,000140:    5733           05651                           <span class="op">TC      </span> <a href="#414C41524D32">ALARM2</a>                                
<a name="4F4354323137"></a>054317,000141:    5734           00217        <span class="sm">OCT217  </span>           <span class="ps">OCT     </span> 00217                                 
054318,000142:    5735           01363                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               <span class="co">#  RETURN TO USER</span>
054319,000143: 
054320,000144:                                                                                                  <span class="co">#  CALLING SEQUENCE FOR VARALARM</span>
054321,000145:                                                                                                  <span class="co">#                CAF     (ALARM)</span>
054322,000146:                                                                                                  <span class="co">#                TC      VARALARM</span>
054323,000147: 
054324,000148:                                                                                                  <span class="co">#  VARALARM TURNS ON PROGRAM ALARM LIGHT BUT DOES NOT DISPLAY</span>
054325,000149: 
<a name="564152414C41524D"></a>054326,000150:    5736           00004        <span class="sm">VARALARM</span>           <span class="op">INHINT  </span>                                       
054327,000151: 
054328,000152:    5737           54001                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#4C">L</a>                                     <span class="co">#  SAVE USERS ALARM CODE</span>
054329,000153: 
054330,000154:    5740           30002                           <span class="op">CA      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#51">Q</a>                                     <span class="co">#  SAVE USERS Q</span>
054331,000155:    5741           55363                           <span class="op">TS      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               
054332,000156: 
054333,000157:    5742           05654                           <span class="op">TC      </span> <a href="#5052494F454E54">PRIOENT</a>                               
<a name="4F43543134"></a>054334,000158:    5743           00014        <span class="sm">OCT14   </span>           <span class="ps">OCT     </span> 14                                    <span class="co">#  DONT MOVE</span>
054335,000159: 
054336,000160:    5744           01363                           <span class="op">TC      </span> <a href="ERASABLE_ASSIGNMENTS.agc.html#414C4D43414452">ALMCADR</a>                               <span class="co">#  RETURN TO USER</span>

End of include-file ALARM_AND_ABORT.agc.  Parent file is <a href="MAIN.agc.html">MAIN.agc</a>
</pre>
</span>
</p>
</body>
</html>
